# MUL(tiplication) service /for Calculator/ 
This is simple math service; which can be used for multi purpose. (Mostly for demo)


## BUILD
Depedency libs are defined in the `package.json` file.  
We need to resolve them before app starting.  
Go to the same folder where 'package.json' is present and fire below command in the console:  
`node install`

## RUNNING

Make sure node is installed and all depedency have been available.  
We can verify that firing `node -v` or `npm -v` on the console.  

We can bring up the service by passing main/start js script file to node interpretor on the console.
`node app.js` or `npm start`


This will bring the service up and show the below.
```
C:\Users\Home\Desktop\uservices\microcalc\mulJs>npm start

> uservices.microcalc.mul@0.0.1 start
> node app.js

service launched at  3000
Terminate batch job (Y/N)? y
```

or  

In development; we can start application by running `npm run start:dev` which will auto restart if any changed found.

```
C:\Users\Home\Desktop\uservices\microcalc\mulJs>npm run start:dev

> uservices.microcalc.mul@0.0.1 start:dev
> pm2-dev app.js

===============================================================================
--- PM2 development mode ------------------------------------------------------
Apps started         : app
Processes started    : 1
Watch and Restart    : Enabled
Ignored folder       : node_modules
===============================================================================
app-0  | service launched at  3000
>>>>> [PM2 DEV] Stopping current development session
Terminate batch job (Y/N)? y
```

## OUTPUT

* *Server output*

These are the logs/output generated by the service on development mode.
Corresonding to the requests from the curl.
```
C:\Users\Home\Desktop\uservices\microcalc\mulJs>npm run start:dev

> uservices.microcalc.mul@0.0.1 start:dev
> pm2-dev app.js

===============================================================================
--- PM2 development mode ------------------------------------------------------
Apps started         : app
Processes started    : 1
Watch and Restart    : Enabled
Ignored folder       : node_modules
===============================================================================
app-0  | service name: mul, version: v1 launched at  8083
app-0  | ::ffff:127.0.0.1 - - [07/Apr/2021:04:05:00 +0000] "GET /status HTTP/1.1" 404 145 "-" "curl/7.83.1"
[rundev] App app restarted
app-0  | service name: mul, version: v1 launched at  8083
[rundev] App app restarted
app-0  | service name: mul, version: v1 launched at  8083
app-0  | ::ffff:127.0.0.1 - - [07/Apr/2021:04:12:02 +0000] "GET /status HTTP/1.1" 404 145 "-" "curl/7.83.1"
app-0  | ::ffff:127.0.0.1 - - [10/Apr/2021:04:12:22 +0000] "GET /api/v1/status HTTP/1.1" 200 13 "-" "curl/7.83.1"
[rundev] App app restarted
app-0  | service name: mul, version: v1 launched at  8083
app-0  | ::ffff:127.0.0.1 - - [10/Apr/2021:04:14:29 +0000] "GET /api/v1/status HTTP/1.1" 200 13 "-" "curl/7.83.1"
app-0  | ::ffff:127.0.0.1 - - [10/Apr/2021:04:14:53 +0000] "POST /api/v1/mul HTTP/1.1" 404 - "-" "curl/7.83.1"
[rundev] App app restarted
app-0  | service name: mul, version: v1 launched at  8083
app-0  | req.body =  undefined
app-0  | ::ffff:127.0.0.1 - - [10/Apr/2021:16:18:31 +0000] "POST /api/v1/mul HTTP/1.1" - - "-" "curl/7.83.1"
app-0  | req.body =  undefined
app-0  | ::ffff:127.0.0.1 - - [10/Apr/2021:16:18:36 +0000] "POST /api/v1/mul HTTP/1.1" - - "-" "curl/7.83.1"
app-0  | req.body =  undefined
app-0  | ::ffff:127.0.0.1 - - [10/Apr/2021:16:19:06 +0000] "POST /api/v1/mul HTTP/1.1" - - "-" "curl/7.83.1"
app-0  | req.body =  undefined
app-0  | ::ffff:127.0.0.1 - - [10/Apr/2021:16:19:18 +0000] "POST /api/v1/mul HTTP/1.1" - - "-" "curl/7.83.1"
app-0  | req.body =  undefined
app-0  | ::ffff:127.0.0.1 - - [10/Apr/2021:16:19:46 +0000] "POST /api/v1/mul HTTP/1.1" - - "-" "curl/7.83.1"
[rundev] App app restarted
[rundev] App app restarted
app-0  | service name: mul, version: v1 launched at  8083
app-0  | req.body =  {}
app-0  | ::ffff:127.0.0.1 - - [10/Apr/2021:16:20:55 +0000] "POST /api/v1/mul HTTP/1.1" - - "-" "curl/7.83.1"
[rundev] App app restarted
app-0  | service name: mul, version: v1 launched at  8083
app-0  | req.body =  {}
app-0  | ::ffff:127.0.0.1 - - [12/Apr/2021:15:05:09 +0000] "POST /api/v1/mul HTTP/1.1" 400 60 "-" "curl/7.83.1"
[rundev] App app restarted
app-0  | service name: mul, version: v1 launched at  8083
app-0  | req.body =  {}
app-0  | ::ffff:127.0.0.1 - - [17/Apr/2021:16:04:20 +0000] "POST /api/v1/mul HTTP/1.1" 400 60 "-" "curl/7.83.1"
app-0  | req.body =  {}
app-0  | ::ffff:127.0.0.1 - - [18/Apr/2021:16:05:06 +0000] "POST /api/v1/mul HTTP/1.1" 400 60 "-" "curl/7.83.1"
app-0  | req.body =  { operands: [ 2, 4 ] }
app-0  | ::ffff:127.0.0.1 - - [18/Apr/2021:16:07:24 +0000] "POST /api/v1/mul HTTP/1.1" - - "-" "curl/7.83.1"
[rundev] App app restarted
app-0  | service name: mul, version: v1 launched at  8083
app-0  | req.body =  { operands: [ 2, 4 ] }
app-0  | ::ffff:127.0.0.1 - - [18/Apr/2021:16:09:29 +0000] "POST /api/v1/mul HTTP/1.1" 200 2 "-" "curl/7.83.1"
[rundev] App app restarted
app-0  | service name: mul, version: v1 launched at  8083
app-0  | req.body =  { operands: [ 2, 4 ] }
app-0  | ::ffff:127.0.0.1 - - [21/Apr/2021:16:31:57 +0000] "POST /api/v1/mul HTTP/1.1" 200 64 "-" "curl/7.83.1"
[rundev] App app restarted
app-0  | service name: mul, version: v1 launched at  8083

```
* *curl output*

These are the curl commands fired and the respective response in the console. 
```
C:\Users\Home\Desktop\uservices>
C:\Users\Home\Desktop\uservices>curl http://localhost:3000/status
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Error</title>
</head>
<body>
<pre>Cannot GET /status</pre>
</body>
</html>

C:\Users\Home\Desktop\uservices>
C:\Users\Home\Desktop\uservices>curl http://localhost:3000/
Hello World!

C:\Users\Home\Desktop\uservices>
C:\Users\Home\Desktop\uservices>curl http://localhost:3000/
curl: (7) Failed to connect to localhost port 3000 after 2229 ms: Connection refused

C:\Users\Home\Desktop\uservices>
C:\Users\Home\Desktop\uservices>curl http://localhost:8083/
welcome all - name: mul, version: v1

C:\Users\Home\Desktop\uservices>
C:\Users\Home\Desktop\uservices>curl http://localhost:8083/status
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Error</title>
</head>
<body>
<pre>Cannot GET /status</pre>
</body>
</html>

C:\Users\Home\Desktop\uservices>
C:\Users\Home\Desktop\uservices>curl http://localhost:8083/api/v1/status
{"data":"ok"}

C:\Users\Home\Desktop\uservices>
C:\Users\Home\Desktop\uservices>curl -X POST http://localhost:8083/api/v1/mul -d " "

C:\Users\Home\Desktop\uservices>
C:\Users\Home\Desktop\uservices>curl -X POST http://localhost:8083/api/v1/mul -d " "
^C
C:\Users\Home\Desktop\uservices>
C:\Users\Home\Desktop\uservices>curl -X POST http://localhost:8083/api/v1/mul -d "" 
^C
C:\Users\Home\Desktop\uservices>
C:\Users\Home\Desktop\uservices>curl -X POST http://localhost:8083/api/v1/mul -d "{}" 
^C
C:\Users\Home\Desktop\uservices>
C:\Users\Home\Desktop\uservices>curl -X POST http://localhost:8083/api/v1/mul -d "{}"
{"error":"Invalid input","service":"name: mul, version: v1"}

C:\Users\Home\Desktop\uservices>
C:\Users\Home\Desktop\uservices>
C:\Users\Home\Desktop\uservices>curl -X POST http://localhost:8083/api/v1/mul -d "{}"
{"error":"Invalid input","service":"name: mul, version: v1"}

C:\Users\Home\Desktop\uservices>
C:\Users\Home\Desktop\uservices>curl -X POST http://localhost:8083/api/v1/mul -d "{\"operands\": [2,4]}"
{"error":"Invalid input","service":"name: mul, version: v1"}

C:\Users\Home\Desktop\uservices>
C:\Users\Home\Desktop\uservices>curl -X POST http://localhost:8083/api/v1/mul -H "Content-Type: application/json" -d "{\"operands\": [2,4]}"
^C
C:\Users\Home\Desktop\uservices>
C:\Users\Home\Desktop\uservices>
C:\Users\Home\Desktop\uservices>curl -X POST http://localhost:8083/api/v1/mul -H "Content-Type: application/json" -d "{\"operands\": [2,4]}"
{}
C:\Users\Home\Desktop\uservices>
C:\Users\Home\Desktop\uservices>
C:\Users\Home\Desktop\uservices>curl -X POST http://localhost:8083/api/v1/mul -H "Content-Type: application/json" -d "{\"operands\": [2,4]}"
{"result":8,"operands":[2,4],"service":"name: mul, version: v1"}

C:\Users\Home\Desktop\uservices>
C:\Users\Home\Desktop\uservices>
```